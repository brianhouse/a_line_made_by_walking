<html>
<head>
    <title>Audio Test</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>    
    <script type="text/javascript">

        var context = null;
        var buffers = {};

        // generated server side
        var sequence = [    [0, 'left'],
                            [1, 'right'],
                            [2, 'left'],
                            [3, 'right']
                            ]

        function loadSound (name, url) {
            var request = new XMLHttpRequest();
            request.open('GET', url, true);
            request.responseType = 'arraybuffer';
            request.onload = function() {
                context.decodeAudioData(request.response, function(buffer) {
                    buffers[name] = buffer;
                    console.log("Loaded " + name + " (" + url +")");                    
                }, null);
            }
            request.send();
        }

        function playSound (name, time) {
            buffer = buffers[name];
            var source = context.createBufferSource(); // creates a sound source
            source.buffer = buffer;                    // tell the source which sound to play
            source.connect(context.destination);       // connect the source to the context's destination (the speakers)
            source.noteOn(time);                       // play the source now
        }

        function startAudio () {
            for (var i=0; i<sequence.length; i++) {
                playSound(sequence[i][1], sequence[i][0]);
            }
        }

        $(document).ready(function() {        

            console.log("Ready.");          

            try {
                context = new webkitAudioContext();
            } catch(e) {
                alert("Web Audio API is not supported in this browser");
            }            

            loadSound('left', "left.wav");
            loadSound('right', "right.wav");

        });  
    </script>
</head>
<body>

    <input id="start_btn" type="button" value="START AUDIO" onClick="startAudio()" />

</body>
</html>